<section class="our-products-section">

    <h1 class="title">Our <span class="title-product">Products</span></h1>
    <div class=" our-products-container">
        <button class="prev-button">0
        </button>

        <div class="product-card"><img class="img" src="/src/images/orange.jpg" alt="a orange flavor">

        <div class="card"><img class="img" src="/src/images/orange.jpg" alt="a orange flavor">

            <h3 class="item-name">orange</h3>
            <p class="item-description">
                Dark chocolate
            </p>
            <div>
                <button class="b-box">45 UAH</button>
            </div>
        </div>

        <div class="product-card"><img class="img" src="/src/images/apple&cranberry.jpg" alt="a apple flavor">
          
            <h3 class="item-name">apple&cranberry</h3>
            <p class="item-description">
                Milk chocolate
            </p>
            <div>
                <button class="b-box">50 UAH</button>
            </div>
        </div>
        <div class="product-card"><img class="img" src="/src/images/lime&seasalt.jpg" alt="a lime & seasalt flavor">
            <h3 class="item-name">lime&sea salt</h3>
            <p class="item-description">
                Dark chocolate
            </p>
            <div>
                <button class="b-box">66 UAH</button>
            </div>
        </div>

        <div class="product-card"><img class="img" src="/src/images/pineapple.jpg" alt="a pineapple flavor">

            <h3 class="item-name">pineapple</h3>
            <p class="item-description">
                Dark chocolate
            </p>
            <div>
                <button class="b-box">54 UAH</button>
            </div>
        </div>
        <div class="product-card"><img class="img" src="/src/images/classicmilk.jpg" alt="a milk flavor">
            <h3 class="item-name">classic</h3>
            <p class="item-description">
                Milk chocolate
            </p>
            <div>
                <button class="b-box">45 UAH</button>
            </div>
        </div>

        <div class="product-card"><img class="img" src="/src/images/honey.jpg" alt="a honey flavor">

            <h3 class="item-name">honey</h3>
            <p class="item-description">
                Milk chocolate
            </p>
            <div>
                <button class="b-box">50 UAH</button>
            </div>
        </div>

        <div class="product-card"><img class="img" src="/src/images/roastedwinterfruits.jpg"
                alt="a roasted winterfruits flavor">
            <h3 class="item-name">roasted fruits</h3>
            <p class="item-description">
                Dark chocolate
            </p>
            <div>
                <button class="b-box">66 UAH</button>
            </div>
        </div>
        <div class="product-card"><img class="img" src="/src/images/classicwhite.jpg" alt="a classicwhite flavor">
            <h3 class="item-name">classic</h3>
            <p class="item-description">
                white chocolate
            </p>
            <div>
                <button class="b-box">54 UAH</button>
            </div>
        </div>

        <button class="next-button">></button>
    </div>

    <div class="dot-navigation">
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>
        <span class="dot"></span>

    </div>

</section>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        const cardsContainer = document.querySelector('.our-products-container');
        const cards = document.querySelectorAll('.product-card');
        const dotNavigation = document.querySelector('.dot-navigation');
        const dots = document.querySelectorAll('.dot');
        const cardCount = cards.length;
        let currentIndex = 0;

        function highlightDot(index) {
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
                dot.style.opacity = i === index ? 1 : 0.5;
            });
        }

        function showCards(index) {
            cards.forEach((card, i) => {
                const newIndex = (i + index) % cardCount;
                card.style.display = i >= index && i < index + 4 ? 'block' : 'none';
            });
        }

        function updateDots(index) {
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index / 4);
            });
        }

        function showNextCards() {
            currentIndex = (currentIndex + 4) % cardCount;
            cardsContainer.style.transition = 'left 0.5s ease-in-out';
            cardsContainer.style.left = `-${currentIndex * 100}%`;
            showCards(currentIndex);
            updateDots(currentIndex);
        }

        function showPrevCards() {
            currentIndex = (currentIndex - 4 + cardCount) % cardCount;
            cardsContainer.style.transition = 'left 0.5s ease-in-out';
            cardsContainer.style.left = `-${currentIndex * 100}%`;
            showCards(currentIndex);
            updateDots(currentIndex);
        }

        document.querySelector('.prev-button').addEventListener('click', () => {
            showPrevCards();
            setTimeout(() => {
                cardsContainer.style.transition = '';
            }, 500);
        });

        document.querySelector('.next-button').addEventListener('click', () => {
            showNextCards();
            setTimeout(() => {
                cardsContainer.style.transition = '';
            }, 500);
        });

        function highlightDot(index) {
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
        }

        cards.forEach((card, i) => {
            card.addEventListener('mouseover', () => {
                const cardIndex = (currentIndex + i) % cardCount;
                highlightDot(cardIndex);
            });

            card.addEventListener('mouseout', () => {
                highlightDot(currentIndex);
            });
        });


        showCards(currentIndex);
        updateDots(currentIndex);
    });
</script>